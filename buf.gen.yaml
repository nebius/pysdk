version: v2
plugins:
  - remote: buf.build/protocolbuffers/python
    out: src/nebius/api
  - remote: buf.build/grpc/python
    out: src/nebius/api
  - remote: buf.build/protocolbuffers/pyi
    out: src/nebius/api
  - local: ["python", "src/compiler/main.py"]
    opt:
    - log_level=DEBUG
    out: src/nebius/api
    strategy: directory
  # - plugin: python_betterproto
  #   opt:
  #   - INCLUDE_GOOGLE
  #   - typing.root
  #   - pydantic_dataclasses
  #   out: src/nebius/better_api
  #   strategy: directory
